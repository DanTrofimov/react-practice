(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var i=n(3),c=n.n(i),a=n(12),o=n.n(a),s=(n(26),n(14)),r=(n(27),n(17)),p=n.n(r),l=n(19),u=n(13);u.a.initializeApp({apiKey:"AIzaSyBZXhCCwtfiomKBHUgiOUMV9SiwcywTGMk",authDomain:"my-app-bf4f3.firebaseapp.com",projectId:"my-app-bf4f3",storageBucket:"my-app-bf4f3.appspot.com",messagingSenderId:"825377096146",appId:"1:825377096146:web:b05f5da7f28f29eea0880b"});var f=u.a.messaging(),g=function(){var e=Object(l.a)(p.a.mark((function e(t){var n,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://fcm.googleapis.com/fcm/send",n={notification:{title:"Message Title",body:"Message body",image:"https://medialeaks.ru/wp-content/uploads/2018/11/Sai--t-Arte--m-273.jpg"},to:t},i={method:"POST",headers:{"Content-Type":"application/json",Authorization:"key=".concat("AAAAwCxPAdI:APA91bFR3cOJxjrLkGQgqZSfBDLv_Pi2KA-p0WpFlMOe5RpRxU657Wt-0BWfdiSiLZPDsH0mPJGTRqWKMedxQBSApsF9_rvMyz7uKNVzYQrHvVEplm165CysDTkDh2Eqi9UB4-5RlV3k")},body:JSON.stringify(n)},e.next=5,fetch("https://fcm.googleapis.com/fcm/send",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=(u.a,n(33),n(20)),m=n(8);var b=function(){Object(i.useEffect)((function(){f.requestPermission().then((function(){return f.getToken({vapidKey:"BCg1U7jwGD0yl35D4WMLuHnpgSN_IaN5Z-4YCjcL7J6tyTmXV2deTe-LlRqW4z_pGeKyr6vXYh9Ahl0m0N2CsK0"})})).then((function(e){e&&p(e)}))}));var e=Object(i.useState)({title:"",body:"",imgSrc:""}),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)(""),o=Object(s.a)(a,2),r=o[0],p=o[1],l=Object(i.useState)(!1),u=Object(s.a)(l,2),b=u[0],j=u[1];return new Promise((function(e){f.onMessage((function(t){console.log("push data: ",t),e(t)}))})).then((function(e){c({title:e.notification.title,body:e.notification.body,imgSrc:e.notification.image}),j(!0)})),Object(m.jsxs)("div",{className:"app",children:[Object(m.jsxs)("div",{className:"info",children:[Object(m.jsx)("img",{src:"https://firebase.google.com/downloads/brand-guidelines/PNG/logo-vertical.png",alt:"logo",className:"logo"}),Object(m.jsx)("p",{children:"React App + FCM"}),Object(m.jsx)("button",{className:"trigger-button",onClick:function(){return g(r)},children:"trigger push"}),Object(m.jsx)("p",{className:"token",children:r})]}),Object(m.jsxs)(d.a,{open:b,onClose:function(){return j(!1)},center:!0,children:[Object(m.jsx)("h2",{children:n.title}),Object(m.jsx)("p",{children:n.body}),Object(m.jsx)("img",{src:n.imgSrc,alt:"",className:"message-img"})]})]})},j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),c(e),a(e),o(e)}))};n(35).config(),o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(b,{})}),document.getElementById("root")),j()}},[[38,1,2]]]);
//# sourceMappingURL=main.67f2f05e.chunk.js.map